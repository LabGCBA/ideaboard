function setSelectionRange(e,t,a){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,a);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",a),n.moveStart("character",t),n.select()}}function setCaretToPos(e,t){setSelectionRange(e,t,t)}function notifyError(e){noty({text:e,animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,type:"error",killer:!0}}),setTimeout(function(){$.noty.closeAll()},1500)}function validate(e){var t=$.trim(newIdeaTextarea.val());return-1!==ideaCache.indexOf(t)||0===t.length?!1:t===prompt||t===promptActive?(notifyError("No ingresaste ninguna idea!"),!1):t.length<20?(notifyError("No menos de 20 caracteres!"),!1):t.length>300?(notifyError("No m\xe1s de 300 caracteres!"),!1):!0}ideaCache=[],errors=!1,prompt="Me gustar\xeda...",promptActive="Me gustar\xeda ",newIdeaTextarea=$("#new_idea .pure-input-3-4"),$(document).ready(function(){$("#new_idea .pure-button").click(function(e){var t=$.trim(newIdeaTextarea.val());newIdeaTextarea.val(t),validate($("#new_idea"))?autosize.update(newIdeaTextarea):e.preventDefault()}),newIdeaTextarea.val(prompt),newIdeaTextarea.on("focus",function(){($(this).val()===prompt||0===$.trim($(this).val()).length)&&$(this).val(promptActive),autosize(newIdeaTextarea),setCaretToPos($(this),$(this).length)}),newIdeaTextarea.blur(function(){($(this).val()===promptActive||0===$.trim($(this).val()).length)&&$(this).val(prompt)}),autosize(newIdeaTextarea)}),$(window).load(function(){var e=$(".ideas");$(".idea .content").boxfit({multiline:!0,align_center:!1}),e.isotope({itemSelector:".idea",masonry:{isFitWidth:!0,gutter:30,resize:!0},getSortData:{votos:".votos parseInt"},sortBy:"votos",sortAscending:!1})});